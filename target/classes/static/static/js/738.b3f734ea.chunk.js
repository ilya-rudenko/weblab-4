"use strict";(self.webpackChunklab4_frontend=self.webpackChunklab4_frontend||[]).push([[738],{5362:function(e,t,n){n.d(t,{Cd:function(){return i},y:function(){return a},zl:function(){return o}});var r=n(9625),i=function(){return{type:r.Nv}},o=function(e){return{type:r.Nz,payload:e}},a=function(e){return{type:r.ym,payload:e}}},1738:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(2791),i=n(2562),o=n(9439),a=n(184),s=function(e){var t=(0,r.createRef)(),n=e.r,i=e.entries,o=e.onClick;return(0,r.useEffect)((function(){!function(){var e,r=null===(e=t.current)||void 0===e?void 0:e.getContext("2d");r&&(c(r,n),l(r,n,i))}()}),[n,i]),(0,a.jsx)("canvas",{ref:t,width:460,height:460,className:"canvas",onClick:function(e){var n=function(e,t){if(e){var n=e.getBoundingClientRect();return{x:Math.round(t.clientX-n.left),y:Math.round(t.clientY-n.top)}}return{x:0,y:0}}(t.current,e),r=n.x,i=n.y;o({x:(r-230)/40,y:(230-i)/40})}})},u=function(e,t,n,r,i){var o=r-t,a=i-n,s=Math.atan2(a,o);e.moveTo(t,n),e.lineTo(r,i),e.lineTo(r-10*Math.cos(s-Math.PI/6),i-10*Math.sin(s-Math.PI/6)),e.moveTo(r,i),e.lineTo(r-10*Math.cos(s+Math.PI/6),i-10*Math.sin(s+Math.PI/6))},c=function(e,t){e.fillStyle="white",e.fillRect(0,0,460,460),e.strokeStyle="rgba(0, 0, 0, 1)",e.fillStyle="rgba(0, 0, 0, 1)",e.beginPath(),u(e,230,460,230,0),u(e,0,230,460,230),e.stroke(),e.font="25px Yandex Sans",e.fillText("x",440,215),e.fillText("y",205,20),e.fillText("5",245,37),e.beginPath(),e.moveTo(220,30),e.lineTo(240,30),e.stroke(),e.fillText("5",425,265),e.beginPath(),e.moveTo(430,220),e.lineTo(430,240),e.stroke(),e.fillText("-5",195,437),e.beginPath(),e.moveTo(220,430),e.lineTo(240,430),e.stroke(),e.fillText("-5",17,210),e.beginPath(),e.moveTo(30,220),e.lineTo(30,240),e.stroke(),e.fillText("2.5",245,137),e.beginPath(),e.moveTo(220,130),e.lineTo(240,130),e.stroke(),e.fillText("2.5",315,265),e.beginPath(),e.moveTo(330,220),e.lineTo(330,240),e.stroke(),e.fillText("-2.5",175,337),e.beginPath(),e.moveTo(220,330),e.lineTo(240,330),e.stroke(),e.fillText("-2.5",107,210),e.beginPath(),e.moveTo(130,220),e.lineTo(130,240),e.stroke(),e.fillStyle="rgba(50, 63, 179, 0.5)",e.fillRect(230,230,-40*t/2,-40*t),e.beginPath(),e.strokeStyle="rgba(50, 63, 179, 0.5)",e.moveTo(230,230),e.arc(230,230,40*t/2,3*Math.PI/2,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke(),e.beginPath(),e.strokeStyle="rgba(50, 63, 179, 0.5)",e.moveTo(230-40*t/2,230),e.lineTo(230,230),e.lineTo(230,230+40*t/2),e.closePath(),e.fill(),e.stroke(),e.strokeStyle="rgba(0, 0, 0, 1)",e.fillStyle="rgba(0, 0, 0, 1)"},l=function(e,t,n){n.forEach((function(t){e.fillStyle=t.result?"green":"red",e.beginPath(),e.arc(230+40*t.x,40*-t.y+230,6,0,2*Math.PI),e.fill()}))};var d=n(9101),x=n(1825),f=function(){return{type:x.en}},h=n(4165),v=n(5861),j=n(3263),m=function(){var e=(0,v.Z)((0,h.Z)().mark((function e(t){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.Z)("/api",{method:"POST",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,v.Z)((0,h.Z)().mark((function e(t){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.Z)("/api",{method:"DELETE",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(7689),y=n(5362),b=(0,d.$j)((function(e){return{entries:e.entries.entries,authInfo:e.authorization}}),(function(e){return{addStateEntry:function(t){return e((n=t,{type:x.tr,payload:n}));var n},clearStateEntries:function(){return e(f())},stateLogout:function(){return e((0,y.Cd)())}}}))((function(e){var t=e.authInfo,n=e.entries,u=e.addStateEntry,c=e.stateLogout,l=e.clearStateEntries,d=(0,i.dz)().width,x=(0,g.s0)(),f=(0,r.useState)(3),h=(0,o.Z)(f,2),v=h[0],j=h[1],y=(0,r.useState)(0),b=(0,o.Z)(y,2),k=b[0],T=b[1],C=(0,r.useState)(0),S=(0,o.Z)(C,2),w=S[0],P=S[1],N=function(e){m({x:e.x,y:e.y,r:v,username:t.username,password:t.password}).then((function(e){e.data.error&&(c(),x("/")),u(e.data.entry)})).catch((function(){c(),x("/")}))},I=function(){N({x:k,y:w})},E=function(){j(3),T(0),P(0),p({username:t.username,password:t.password}).then((function(e){console.log(e),e.data.error&&(c(),x("/")),l()})).catch((function(){c(),x("/")}))},Z=function(e){j(Number(e)<1?1:Number(e))},M=function(e){T(Number(e))},z=function(e){P(Number(e))},G=function(){return(0,a.jsxs)("div",{className:"controls",children:[(0,a.jsx)(s,{r:v,entries:n,onClick:N}),(0,a.jsxs)(i.Wn,{children:[(0,a.jsx)(i.xv,{text:"\u0420\u0430\u0434\u0438\u0443\u0441"}),(0,a.jsx)(i.GS,{id:"radius",defaultChecked:String(v),onChange:Z,items:["-3","-2","-1","0","1","2","3","4","5"]}),(0,a.jsx)(i.xv,{text:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 X"}),(0,a.jsx)(i.GS,{id:"x_coordinate",defaultChecked:String(k),onChange:M,items:["-3","-2","-1","0","1","2","3","4","5"]}),(0,a.jsx)(i.xv,{text:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 Y"}),(0,a.jsx)(i.II,{onChange:z,type:"number",bounds:{min:-3,max:5},value:w}),(0,a.jsx)(i.zx,{onClick:I,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),(0,a.jsx)(i.zx,{onClick:E,text:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})]})},L=function(){return(0,a.jsxs)("div",{className:"controls",children:[(0,a.jsx)(s,{r:v,entries:n,onClick:N}),(0,a.jsxs)(i.Wn,{children:[(0,a.jsx)(i.xv,{text:"\u0420\u0430\u0434\u0438\u0443\u0441"}),(0,a.jsx)(i.GS,{id:"radius",defaultChecked:String(v),onChange:Z,items:["-3","-2","-1","0","1","2","3","4","5"]}),(0,a.jsx)(i.xv,{text:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 X"}),(0,a.jsx)(i.GS,{id:"x_coordinate",defaultChecked:String(k),onChange:M,items:["-3","-2","-1","0","1","2","3","4","5"]}),(0,a.jsx)(i.xv,{text:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 Y"}),(0,a.jsx)(i.II,{onChange:z,type:"number",bounds:{min:-3,max:5},value:w}),(0,a.jsxs)(i.Ug,{children:[(0,a.jsx)(i.zx,{onClick:I,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),(0,a.jsx)(i.zx,{onClick:E,text:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})]})]})},_=function(){return(0,a.jsx)("div",{className:"controls",children:(0,a.jsxs)(i.Ug,{children:[(0,a.jsxs)(i.Wn,{children:[(0,a.jsx)(i.xv,{text:"\u0420\u0430\u0434\u0438\u0443\u0441"}),(0,a.jsx)(i.GS,{id:"radius",defaultChecked:String(v),onChange:Z,items:["-3","-2","-1","0","1","2","3","4","5"]}),(0,a.jsx)(i.xv,{text:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 X"}),(0,a.jsx)(i.GS,{id:"x_coordinate",defaultChecked:String(k),onChange:M,items:["-3","-2","-1","0","1","2","3","4","5"]}),(0,a.jsx)(i.xv,{text:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 Y"}),(0,a.jsx)(i.II,{onChange:z,type:"number",bounds:{min:-3,max:5},value:w}),(0,a.jsxs)(i.Ug,{children:[(0,a.jsx)(i.zx,{onClick:I,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),(0,a.jsx)(i.zx,{onClick:E,text:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})]}),(0,a.jsx)(s,{r:v,entries:n,onClick:N})]})})};return(0,a.jsx)("div",{children:d>=1074?(0,a.jsx)(_,{}):d<713?(0,a.jsx)(G,{}):(0,a.jsx)(L,{})})})),k=function(){var e=(0,v.Z)((0,h.Z)().mark((function e(t){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.Z)("/api/entries",{method:"POST",headers:{"Content-Type":"application/json"},data:{username:t.username,password:t.password}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(8977),C=function(e){var t=e.username,n=(0,r.useState)(new Date),i=(0,o.Z)(n,2),s=i[0],u=i[1];return r.useEffect((function(){setInterval((function(){u(new Date)}),1e3)}),[]),(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{children:t||"Guest "}),(0,a.jsx)("div",{children:"lab 4/V3210166"}),(0,a.jsx)("div",{children:(0,T.Z)(s,"dd/MM/yyyy kk:mm:ss")})]})},S=(0,d.$j)((function(e){return{entries:e.entries.entries,authInfo:e.authorization}}),(function(e){return{setStateEntries:function(t){return e((n=t,{type:x.GT,payload:n}));var n},stateLogout:function(){return e((0,y.Cd)())},clearStateEntries:function(){return e(f())}}}))((function(e){var t=(0,g.s0)(),n=e.authInfo,o=e.entries,s=e.stateLogout,u=e.setStateEntries,c=e.clearStateEntries;r.useEffect((function(){n.authFlag||t("/"),k({username:n.username,password:n.password}).then((function(e){e.data.error?console.log(e.data.message):u(e.data.entries)})).catch((function(){}))}),[n,t,u]);return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"MainPage",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{username:n.username}),(0,a.jsx)(i.zx,{onClick:function(){s(),c(),t("/")},text:"Log Out"}),(0,a.jsx)(b,{}),(0,a.jsx)(i.iA,{dots:o})]})})})}))},2562:function(e,t,n){n.d(t,{zx:function(){return o},Ug:function(){return l},II:function(){return a},Wn:function(){return x},GS:function(){return d},iA:function(){return f},xv:function(){return h},dz:function(){return c}});var r=n(2791),i=n(184),o=function(e){var t=e.onClick,n=e.text;return(0,i.jsx)("button",{className:"button",onClick:t,children:n})},a=function(e){var t=e.type,n=e.onChange,r=e.bounds,o=e.value;return(0,i.jsx)("input",{type:t,value:o,onChange:function(e){var i;"number"===t&&r&&null!==e&&void 0!==e&&e.target.value&&(Number(null===e||void 0===e?void 0:e.target.value)<r.min||Number(null===e||void 0===e?void 0:e.target.value)>r.max)||n(null!==(i=null===e||void 0===e?void 0:e.target.value)&&void 0!==i?i:"")},className:"input"})},s=n(9439);function u(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function c(){var e=(0,r.useState)(u()),t=(0,s.Z)(e,2),n=t[0],i=t[1];return(0,r.useEffect)((function(){function e(){i(u())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}var l=function(e){var t=c().width;return(0,i.jsx)("div",{className:t<713?"HStackMobile":"HStack",children:e.children})},d=function(e){var t=e.items,n=e.onChange,o=e.id,a=e.defaultChecked,u=(0,r.useState)(a),c=(0,s.Z)(u,2),d=c[0],x=c[1],f=function(e){var t,r;n(null!==(t=null===e||void 0===e?void 0:e.currentTarget.value)&&void 0!==t?t:""),x(null!==(r=null===e||void 0===e?void 0:e.currentTarget.value)&&void 0!==r?r:"")};return(0,i.jsx)(l,{children:t.map((function(e){return(0,i.jsx)("button",{onClick:f,className:e===d?"checked_button":"default_button",value:e,children:e},o+"_"+e)}))})},x=function(e){return(0,i.jsx)("div",{className:"island",children:e.children})},f=function(e){return(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"left",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,i.jsx)("th",{scope:"col",children:"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,i.jsx)("th",{scope:"col",children:"X"}),(0,i.jsx)("th",{scope:"col",children:"Y"}),(0,i.jsx)("th",{scope:"col",children:"R"}),(0,i.jsx)("th",{scope:"col",className:"right",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})}),(0,i.jsx)("tbody",{children:e.dots.map((function(e){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:e.date}),(0,i.jsx)("td",{children:e.executionTime}),(0,i.jsx)("td",{children:e.x}),(0,i.jsx)("td",{children:e.y}),(0,i.jsx)("td",{children:e.r}),(0,i.jsx)("td",{children:e.result?"\u041f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u0435":"\u041f\u0440\u043e\u043c\u0430\u0445"})]},e.id)}))})]})},h=function(e){return(0,i.jsx)("div",{className:e.isError?"errorText":"text",children:e.text})}}}]);
//# sourceMappingURL=738.b3f734ea.chunk.js.map